Le projet est un site full-stack (frontend sur Vercel, backend sur Render).
En dÃ©veloppement (Replit), la soumission dâ€™une demande avec piÃ¨ces jointes fonctionne.
En production, le bouton de soumission ne dÃ©clenche pas lâ€™appel API et gÃ©nÃ¨re lâ€™erreur :
Unexpected token < in JSON at position 0.

Objectif
Identifier la diffÃ©rence DEV vs PROD qui empÃªche lâ€™appel API lors du clic sur le bouton Submit Request.

Action demandÃ©e
Merci de me fournir uniquement le contenu brut des fichiers suivants (sans les modifier, sans rÃ©sumÃ©) :

1ï¸âƒ£ Fichier FRONTEND â€“ Formulaire de soumission (OBLIGATOIRE)

ğŸ‘‰ Le fichier exact qui contient :

le bouton Submit Request

la fonction onSubmit / handleSubmit

lâ€™appel fetch ou axios.post

la crÃ©ation du FormData

Exemples possibles (selon le projet) :

app/dashboard/page.tsx

components/RequestForm.tsx

components/SubmitRequest.tsx

ğŸ‘‰ Envoyer le fichier rÃ©el utilisÃ© en production.

2ï¸âƒ£ Fichier FRONTEND â€“ Configuration API (CRITIQUE)

ğŸ‘‰ Le fichier oÃ¹ est dÃ©fini lâ€™URL du backend.

Exemples possibles :

lib/api.ts

utils/api.ts

config.ts

constants.ts

Je cherche notamment :

process.env.NEXT_PUBLIC_API_URL

process.env.API_URL

tout fallback type || "http://localhost:..."

3ï¸âƒ£ Fichier BACKEND â€“ Route de soumission de demande

ğŸ‘‰ Le fichier backend qui reÃ§oit la requÃªte de soumission.

Exemples possibles :

routes/request.js

routes/demandes.ts

controllers/request.controller.js

Je cherche :

la route POST

multer

req.body

req.files

res.json(...)

4ï¸âƒ£ Fichier BACKEND â€“ EntrÃ©e principale du serveur

ğŸ‘‰ Le fichier principal serveur.

Exemples :

server.js

index.js

app.js

Je cherche :

configuration cors

middleware csrf

bodyParser

limites de taille

app.use(...)

5ï¸âƒ£ (Optionnel mais utile) â€“ Variables dâ€™environnement

ğŸ‘‰ Fournir uniquement la liste des noms des variables, sans valeurs.

Exemple :

NEXT_PUBLIC_API_URL
RESEND_API_KEY
DATABASE_URL
NODE_ENV


âš ï¸ Important
â€“ Ne pas envoyer tout le repository
â€“ Ne pas modifier le code
â€“ Envoyer le contenu exact des fichiers listÃ©s